(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3970:function(e,t,r){var n={"./en.json":[6210,210],"./zh.json":[9204,204]};function webpackAsyncContext(e){if(!r.o(n,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],l=t[0];return r.e(t[1]).then(function(){return r.t(l,19)})}webpackAsyncContext.keys=function(){return Object.keys(n)},webpackAsyncContext.id=3970,e.exports=webpackAsyncContext},4844:function(e,t,r){Promise.resolve().then(r.bind(r,423)),Promise.resolve().then(r.t.bind(r,9167,23)),Promise.resolve().then(r.bind(r,6777)),Promise.resolve().then(r.bind(r,2498)),Promise.resolve().then(r.bind(r,3483)),Promise.resolve().then(r.bind(r,8831)),Promise.resolve().then(r.bind(r,5107))},6777:function(e,t,r){"use strict";r.r(t);var n=r(7437),l=r(4827);t.default=function(e){let{children:t}=e,r=(0,l.rL)();return(0,n.jsx)(l.SU,{value:r,children:t})}},2498:function(e,t,r){"use strict";r.r(t);var n=r(7437),l=r(2265),o=r(1101),s=r(1068),i=r(9227),a=r(6055),c=r(52),u=r(4827);t.default=function(){let[e,t]=(0,l.useState)(!1),{openFpanel:r,setOpenFpanel:d}=(0,u.ZP)();return(0,o.Z)(),(0,l.useEffect)(()=>{t(!0)},[]),(0,n.jsx)(s.Z,{orientation:"horizontal",in:r,collapsedSize:55,sx:{position:"fixed",top:0,left:0,zIndex:1300},children:(0,n.jsx)(s.Z,{orientation:"vertical",in:r,collapsedSize:55,children:(0,n.jsx)(i.Z,{sx:{width:{xs:"100vw",sm:380},height:"calc(100vh - ".concat(0,"px)")},children:(0,n.jsx)(a.Z,{sx:{height:"100%",backdropFilter:"saturate(180%) blur(5px)",background:"hsla(0,0%,100%,.8)"},children:e?(0,n.jsx)(c.default,{}):null})})})})}},3483:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return components_LoadingPage}});var n=r(7437),l=r(2261),o=r(9227),s=r(4827),i=r(6055),components_GlassmorphismCard=function(e){let{sx:t,...r}=e;return(0,n.jsx)(i.Z,{...r,sx:{backdropFilter:"saturate(180%) blur(5px)",background:"hsla(0,0%,100%,.8)",...t}})},components_LoadingPage=function(){let{mapLoaded:e}=(0,s.ZP)();return(0,n.jsx)(l.Z,{in:!e,appear:!1,timeout:1200,children:(0,n.jsx)(o.Z,{sx:{zIndex:9999,position:"fixed",width:"100%",height:"100%",background:'#4a81de center/cover no-repeat url("/img/City_map2v.jpg")'},children:(0,n.jsxs)(components_GlassmorphismCard,{square:!0,sx:{position:"absolute",top:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,n.jsx)(o.Z,{children:(0,n.jsx)(o.Z,{sx:{fontSize:"50px",fontWeight:"bold",letterSpacing:"2px",background:"linear-gradient(90deg,#eeac43,#f15874)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"LC Map"})}),(0,n.jsx)(o.Z,{sx:{width:"80%",maxWidth:"300px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,n.jsx)("img",{src:"/img/Spinner-1s-300px.gif",width:"100px"})})]})})})}},8831:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return map}});var n=r(7437),l=r(2265),o=r(9168),s=r(4033),i=r(4827),a=r(2446);r(1466);let saveCacheToLocalStorage=e=>localStorage.setItem("mapStyleCache",JSON.stringify(Array.from(e.entries()))),c=new Map(JSON.parse(localStorage.getItem("mapStyleCache")||"[]"));var hooks_useMapStyle=function(e){let[t,r]=(0,l.useState)(null);return(0,l.useMemo)(()=>{let t=c.get(e);t&&r(t),fetch(e).then(e=>e.json()).then(t=>{delete t.sources.esri.url,t.sources.esri.tiles=["".concat(e.replace("/resources/styles/root.json",""),"/tile/{z}/{y}/{x}.pbf")],t.sprite&&-1===t.sprite.indexOf("http")&&(t.sprite=e.replace("styles/root.json",t.sprite.replace("../",""))),t.glyphs&&-1===t.glyphs.indexOf("http")&&(t.glyphs=e.replace("styles/root.json",t.glyphs.replace("../",""))),t.sources.esri.maxzoom=15,c.set(e,t),saveCacheToLocalStorage(c),r(t)})},[e]),t};function HKVectorTileLayer(e){let{url:t,pane:r="tilePane",show:n=!0}=e,o=(0,a.Sx)(),s=hooks_useMapStyle(t);return(0,l.useEffect)(()=>{let e;return s&&(e=L.maplibreGL({style:s,attribution:s.sources.esri.attribution,pane:r}),n?e.addTo(o):e.remove()),()=>{e&&e.remove&&e.remove()}},[s,n]),null}var Map_AttributionPrefix=function(){let e=(0,a.Sx)();return e.attributionControl.setPrefix('<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">Leaflet</a>'),null},u=r(9227),Control_TopLeft=function(){return(0,n.jsx)(u.Z,{className:"leaflet-top leaflet-left",children:(0,n.jsx)(u.Z,{className:"leaflet-control"})})},Control_TopRight=function(){return(0,n.jsx)(u.Z,{className:"leaflet-top leaflet-right",children:(0,n.jsx)(u.Z,{className:"leaflet-control"})})},Control_BottomLeft=function(){return(0,n.jsx)(u.Z,{className:"leaflet-bottom leaflet-left",children:(0,n.jsx)(u.Z,{className:"leaflet-control"})})},d=r(7538),h=r(9396),p=r(2929),x=r(5858),f=r(7551),m=r(4236),g=r(6882),j=r(1797),b=r(6337),Z=r(2834),v=r(162),y=r(5551),S=r(8075),C=r(5511),w=r(1748);let k={"&:hover":{backgroundColor:C.Z[50]},backgroundColor:C.Z[50]};var Control_BottomRight=function(){var e,t;let r=(0,a.Sx)(),[o,c]=(0,l.useState)(!1),[C,P]=(0,l.useState)(!1),onZoomEnd=()=>{let e=r.getZoom(),t=r.getMinZoom(),n=r.getMaxZoom();c(e===n),P(e===t)},{resource:M,setSearchPanelLoaded:_,setIsSearchPanelOpen:z,fetchingDataset:T,geojsonData:E}=(0,i.ZP)(),{language:R}=(0,s.useParams)();(0,l.useEffect)(()=>(r.on("zoomend",onZoomEnd),()=>r.off("zoomend",onZoomEnd)),[]);let[I,A]=(0,l.useState)(!1),F=(0,s.usePathname)(),B=(0,s.useRouter)(),handleLangChange=e=>{B.replace(F.replace("/".concat(R),"/".concat(e)),{scroll:!1}),A(!1)},N=(null!==(t=null==E?void 0:null===(e=E.features)||void 0===e?void 0:e.length)&&void 0!==t?t:0)>0;return(0,n.jsxs)(u.Z,{className:"leaflet-bottom leaflet-right",children:[(0,n.jsxs)(u.Z,{className:"leaflet-control",style:{marginBottom:30,display:"flex",flexDirection:"column"},sx:{"& > .MuiFab-root, & > .MuiBox-root ":{marginTop:1},"& .MuiFab-root ":{boxShadow:1}},children:[(0,n.jsxs)(u.Z,{sx:{position:"relative"},children:[(0,n.jsx)(d.Z,{color:"whiteBtn","aria-label":"list",size:"small",disableFocusRipple:!0,disableRipple:!1,sx:{opacity:N?1:0,pointerEvents:N?"auto":"none"},children:(0,n.jsx)(m.Z,{badgeContent:(null==E?void 0:E.features)?E.features.length:0,color:"error",sx:{"& > .MuiBadge-badge":{fontSize:"0.6rem",zIndex:1051}},max:999,children:(0,n.jsx)(f.Z,{})})}),T&&(0,n.jsx)(g.Z,{disableShrink:!0,size:40,sx:{position:"absolute",top:0,left:0,zIndex:1052,animationDuration:"800ms"}})]}),(0,n.jsx)(d.Z,{color:"whiteBtn","aria-label":"add",disabled:o,size:"small",disableFocusRipple:!0,disableRipple:!1,onClick:()=>r.zoomIn(),children:(0,n.jsx)(h.Z,{})}),(0,n.jsx)(d.Z,{color:"whiteBtn","aria-label":"remove",disabled:C,size:"small",disableFocusRipple:!0,disableRipple:!1,onClick:()=>r.zoomOut(),children:(0,n.jsx)(p.Z,{})}),(0,n.jsx)(d.Z,{color:"whiteBtn","aria-label":"translate",size:"small",disableFocusRipple:!0,disableRipple:!1,onClick:()=>{A(!0)},sx:{boxShadow:1},children:(0,n.jsx)(x.Z,{})})]}),(0,n.jsxs)(v.Z,{sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:435}},maxWidth:"xs",open:I,children:[(0,n.jsx)(j.Z,{children:M.language}),(0,n.jsx)(b.Z,{dividers:!0,children:(0,n.jsx)(S.Z,{sx:{"& > button":{marginBottom:.5,fontWeight:600}},children:w.ag.map(e=>{let{locale:t,displayName:r}=e;return(0,n.jsx)(y.Z,{size:"large",sx:R==t?k:null,onClick:()=>handleLangChange(t),children:r},t)})})}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(y.Z,{onClick:()=>{A(!1)},children:M.cancel})})]})]})},Map_Control=function(){let e=(0,a.Sx)();return e.zoomControl.remove(),(0,n.jsxs)(u.Z,{className:"my-control-container",onDoubleClickCapture:e=>{e.stopPropagation()},children:[(0,n.jsx)(Control_TopLeft,{}),(0,n.jsx)(Control_TopRight,{}),(0,n.jsx)(Control_BottomLeft,{}),(0,n.jsx)(Control_BottomRight,{})]})},P=r(8093),fetchFacility=async()=>{let e=null;try{let t=await fetch("./facility.min.json");e=await t.json()}catch(e){console.error(e)}return e};function MarkerClusterLayer(e){let{markerList:t=[]}=e,r=(0,a.Sx)(),n=(0,l.useRef)(null),{selectedFacility:o}=(0,i.ZP)();return(0,l.useEffect)(()=>{let e=n.current;return e||(e=n.current=L.markerClusterGroup({disableClusteringAtZoom:15,spiderfyOnMaxZoom:!1}),r.addLayer(e)),()=>{e&&(r.removeLayer(e),n.current=null)}},[]),(0,l.useEffect)(()=>{let e=n.current;e&&(e.clearLayers(),e.addLayers(t))},[t]),(0,l.useEffect)(()=>{let{marker:e}=o,showMarker=()=>{e.openPopup(),r.off("moveend",showMarker),r.off("zoomend",showMarker)};return e&&(r.once("moveend",showMarker),r.once("zoomend",showMarker),r.setView(e.getLatLng(),Math.max(r.getZoom(),15),{animate:!0})),()=>{showMarker&&(r.off("moveend",showMarker),r.off("zoomend",showMarker))}},[o]),null}r(1868);var Map_ExposeMap=function(){let e=(0,a.Sx)(),{setMap:t}=(0,i.ZP)();return(0,l.useEffect)(()=>{t(e)},[]),null},Map_SetMapEvents=function(){let{setMapLoaded:e}=(0,i.ZP)();return(0,a.zV)({layeradd:t=>{if(t.layer.getMaplibreMap){let r=t.layer.getMaplibreMap();r.on("load",()=>{e(!0)})}}}),null},M=r(184),map=function(){let e;let{setDatasetInfo:t,setOpenFpanel:r}=(0,i.ZP)(),{language:a}=(0,s.useParams)();switch(a){case"zh":default:e="tc";break;case"en":e="en"}let c=(0,P.Z)().map(e=>e.marker);return(0,l.useEffect)(()=>{(async()=>{let e=await fetchFacility();e.dataset=e.dataset.map(e=>{let t=L.marker(e.coordinates).bindPopup("<div>\n            <div>".concat(e.resources[a].title,"</div>\n            <div>").concat(e.resources[a].address,"</div>\n            <div class='facility'>").concat(e.resources[a].facilities,"</div>\n          </div>"),{className:"popup-card"});return{...e,marker:t}}),t(e),(0,M.Z)()||r(!0)})()},[]),(0,n.jsx)("div",{style:{height:"100vh"},children:(0,n.jsxs)(o.h,{center:[22.3400052,114.1545354],zoom:11,minZoom:10,maxZoom:19,maxBounds:[[22.583333,113.816667],[22.133333,114.516667]],maxBoundsViscosity:.5,style:{height:"100%"},children:[(0,n.jsx)(Map_SetMapEvents,{}),(0,n.jsx)(Map_ExposeMap,{}),(0,n.jsx)(Map_AttributionPrefix,{}),(0,n.jsx)(Map_Control,{}),(0,n.jsx)(HKVectorTileLayer,{url:"https://mapapi.geodata.gov.hk/gs/api/v1.0.0/vt/basemap/WGS84/resources/styles/root.json"}),(0,n.jsx)(HKVectorTileLayer,{url:"https://mapapi.geodata.gov.hk/gs/api/v1.0.0/vt/label/hk/".concat(e,"/WGS84/resources/styles/root.json"),pane:"overlayPane"}),(0,n.jsx)(MarkerClusterLayer,{markerList:c})]})})}},52:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return searchPanel_SearchPanel}});var n=r(7437),l=r(2265),o=r(2653),s=r(1679),i=r(1342),a=r(8991),c=r(3533),u=r(6178),d=r(2513),h=r(8075),p=r(4827),searchPanel_SearchBar=function(e){let{searchText:t,setSearchText:r}=e,{setIsSearchPanelOpen:l,openFpanel:x,setOpenFpanel:f}=(0,p.ZP)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(h.Z,{direction:"row",spacing:1,sx:{px:1,pt:1},children:[(0,n.jsx)(o.Z,{"aria-label":"back button",edge:!1,onClick:()=>f(e=>!e),children:x?(0,n.jsx)(u.Z,{}):(0,n.jsx)(d.Z,{})}),(0,n.jsx)(i.Z,{id:"outlined-adornment-password",type:"text",fullWidth:!0,size:"small",value:t,onInput:e=>r(e.target.value),startAdornment:(0,n.jsx)(s.Z,{position:"start",children:(0,n.jsx)(o.Z,{"aria-label":"search button",edge:"start",style:{pointerEvents:"none"},children:(0,n.jsx)(a.Z,{})})}),endAdornment:(0,n.jsx)(s.Z,{position:"end",children:(0,n.jsx)(o.Z,{"aria-label":"close button",edge:"end",onClick:()=>r(""),children:(0,n.jsx)(c.Z,{})})})})]})})},x=r(9227),f=r(3226),m=r(9643),g=r(2277),j=r(8088),b=r(6055),components_TabPanel=function(e){let{children:t,value:r,index:l,sx:o,containerRef:s,...i}=e;return(0,n.jsx)(j.Z,{direction:"down",in:r===l,container:s.current,children:(0,n.jsx)(b.Z,{elevation:1,role:"tabpanel",hidden:r!==l,id:"tabpanel-".concat(l),"aria-labelledby":"tab-".concat(l),sx:{...o,width:"100%",height:"100%",position:"absolute",top:0,bgcolor:"background.paper"},...i,children:t})})},Z=r(9299),v=r(6358),y=r(2502),S=r(7780),C=r(5511),w=r(4236),k=r(4033),searchPanel_RenderList=function(e){let{list:t,icon:r,firstItem:l,hideFirstIcon:o,handleItemClick:s,checkItemSelected:i}=e,a=t;t&&l&&(a=[l,...t]);let{language:c}=(0,k.useParams)(),iconWithBadge=e=>(0,n.jsx)(w.Z,{badgeContent:e,color:"primary",showZero:!0,children:r});return(0,n.jsx)(x.Z,{sx:{height:"100%",overflow:"auto"},children:a?a.map((e,t)=>(0,n.jsx)(Z.ZP,{component:"div",disablePadding:!0,children:(0,n.jsxs)(y.Z,{onClick:t=>s(t,e),selected:i(e),sx:{py:2,"&:hover, &.Mui-selected:hover, &.Mui-selected":{bgcolor:C.Z[50]},"&.Mui-selected .MuiSvgIcon-root, &.Mui-selected .MuiTypography-root":{color:"primary.main"}},children:[(0,n.jsx)(v.Z,{children:0===t&&o?null:iconWithBadge(e.count)}),(0,n.jsx)(S.Z,{primary:e[c],primaryTypographyProps:{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:e[c]}})]})},t)):null})},P=r(5987),M=r(7212),_=r(3505),z=r(627),T=r(6188),E=r(2336),R=r(1990),I=r(1101),A=r(184);let TitleWithIndex=e=>{let{indexStr:t,children:r}=e;return(0,n.jsxs)("span",{children:[t,r]})},F=(0,l.memo)(e=>{let{data:t,index:r,style:l}=e;(0,I.Z)();let{language:o}=(0,k.useParams)(),s="".concat(r+1,". "),{selectedDatasetId:i,handleDatasetItemClick:a,searchText:c,setIsSearchPanelOpen:u,setSelectedFacility:d,setOpenFpanel:h}=(0,p.ZP)(),x=t[r].resources,f=x[o].title[0]===i,m=x.en.title+"<br/>"+x.zh.title,g=x.zh.title+"<br/>"+x.en.title,j=(0,R.Z)(c,x.en.title)+"<br/>"+(0,R.Z)(c,x.zh.title),b=(0,R.Z)(c,x.zh.title)+"<br/>"+(0,R.Z)(c,x.en.title),w={en:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:j}}),zh:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:b}})},P=x.en.facilities+"<br/>"+x.zh.facilities,M=x.zh.facilities+"<br/>"+x.en.facilities,T=(0,R.Z)(c,x.en.facilities)+"<br/>"+(0,R.Z)(c,x.zh.facilities),E=(0,R.Z)(c,x.zh.facilities)+"<br/>"+(0,R.Z)(c,x.en.facilities),F={en:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:T}}),zh:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:E}})};return(0,n.jsx)(Z.ZP,{style:l,component:"div",disablePadding:!0,children:(0,n.jsxs)(y.Z,{sx:{"&:hover, &.Mui-selected:hover, &.Mui-selected":{bgcolor:C.Z[50]},"&.Mui-selected .MuiTypography-root":{color:"primary.main"}},selected:f,onClick:()=>{(0,A.Z)()&&h(!1),d({...t[r]})},children:[(0,n.jsx)(v.Z,{sx:{minWidth:42},children:f?(0,n.jsx)(z.Z,{color:"error"}):(0,n.jsx)(_.Z,{})}),(0,n.jsx)(S.Z,{primary:(0,n.jsx)(TitleWithIndex,{indexStr:s,children:w[o]}),secondary:F[o],primaryTypographyProps:{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:s+("en"==o?m.replaceAll("<br/>","\n"):g.replaceAll("<br/>","\n"))},secondaryTypographyProps:{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:"en"==o?P.replaceAll("<br/>","\n"):M.replaceAll("<br/>","\n")}})]})},t[r].resources.en.title)},T.wy);var searchPanel_DatasetList=function(e){let{dataset:t=[]}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(x.Z,{sx:{height:"100%"},children:t.length>0?(0,n.jsx)(E.ZP,{children:e=>{let{height:r,width:l}=e;return(0,n.jsx)(T.t7,{height:r,width:l,itemSize:116,itemCount:t.length,overscanCount:5,itemData:t,children:F})}}):null})})},B=r(8093);function SpanWithTitle(e){let{children:t}=e;return(0,n.jsx)("span",{title:t,children:t})}var searchPanel_FilterTab=function(e){let{searchText:t}=e,{language:r}=(0,k.useParams)(),[o,s]=(0,l.useState)(!1),i=(0,l.useRef)(null),{resource:a,datasetInfo:c,setDatasetInfo:u,selectedCategory:d,selectedProvider:j,setSelectedCategory:b,setSelectedProvider:Z,map:v}=(0,p.ZP)(),y=(0,l.useMemo)(()=>{let e=0;return d.en&&(e=1),(0,n.jsx)(w.Z,{component:"div",badgeContent:e,color:"primary",variant:"dot",children:(0,n.jsx)(M.Z,{})})},[c,d]),S=[{key:"category",defaultTitle:a.category,selectedTitle:d[r],icon:y}],C=(0,B.Z)(),{filter:{category:_,provider:z}={}}=c,handleTabClick=e=>{s(t=>t!==e&&e)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(x.Z,{sx:{borderTop:1,borderBottom:1,borderColor:"#f0f4f5",mt:1},children:[(0,n.jsxs)(h.Z,{direction:"row",sx:{alignItems:"center"},children:[(0,n.jsx)(P.Z,{sx:{ml:1}}),(0,n.jsx)(m.Z,{indicatorColor:"transparent",value:o,variant:"scrollable",sx:{alignItems:"center",minHeight:60,"& .MuiTab-root":{border:1,borderRadius:6,mx:1,py:1,px:1.5,minHeight:0,borderColor:"divider"}},children:S.map((e,t)=>{let{key:r,defaultTitle:l,selectedTitle:o,icon:s}=e;return(0,n.jsx)(g.Z,{label:o?(0,n.jsx)(SpanWithTitle,{children:o}):(0,n.jsx)(SpanWithTitle,{children:l}),icon:s,iconPosition:"start",id:"tab-".concat(t),"aria-controls":"tabpanel-".concat(t),onClick:()=>handleTabClick(t),sx:{width:150,maxHeight:42,"& > span:first-of-type":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flexGrow:1,textAlign:"start"}}},r)})})]}),(0,n.jsx)(h.Z,{direction:"row",sx:{mx:1,mt:-1,justifyContent:"end"},children:(0,n.jsx)(f.Z,{variant:"subtitle",children:C.length+"".concat("en"==r?" ":"個")+(C.length>1?a.results:a.result)})})]}),(0,n.jsxs)(x.Z,{ref:i,sx:{position:"relative",height:{xs:"calc(100%  - 48px - 70px - 24px + 8px)",sm:"calc(100%  - 56px - 70px - 24px + 8px)"},overflow:"hidden"},children:[(0,n.jsx)(searchPanel_DatasetList,{dataset:C}),(0,n.jsx)(components_TabPanel,{value:o,index:0,containerRef:i,children:(0,n.jsx)(searchPanel_RenderList,{list:_,icon:(0,n.jsx)(M.Z,{}),firstItem:{en:"All",zh:"全部"},hideFirstIcon:!0,handleItemClick:(e,t)=>{b("All"==t.en?{}:t),s(!1),v&&v.setView([22.3400052,114.1545354],11)},checkItemSelected:e=>d==e.en})})]})]})},searchPanel_SearchPanel=function(){let{searchText:e,setSearchText:t}=(0,p.ZP)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(searchPanel_SearchBar,{searchText:e,setSearchText:t}),(0,n.jsx)(searchPanel_FilterTab,{searchText:e})]})}},5107:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ThemeRegistry}});var n=r(7437),l=r(2265),o=r(8508),s=r(3857),i=r(6335),a=r(4033),c=r(6375);function NextAppDirEmotionCacheProvider(e){let{options:t,CacheProvider:r=c.C,children:o}=e,[s]=l.useState(()=>{let e=(0,i.Z)(t);e.compat=!0;let r=e.insert,n=[];return e.insert=function(){for(var t=arguments.length,l=Array(t),o=0;o<t;o++)l[o]=arguments[o];let[s,i]=l;return void 0===e.inserted[i.name]&&n.push({name:i.name,isGlobal:!s}),r(...l)},{cache:e,flush:()=>{let e=n;return n=[],e}}});return(0,a.useServerInsertedHTML)(()=>{let e=s.flush();if(0===e.length)return null;let t="",r=s.cache.key,o=[];return e.forEach(e=>{let{name:n,isGlobal:l}=e,i=s.cache.inserted[n];"boolean"!=typeof i&&(l?o.push({name:n,style:i}):(t+=i,r+=" ".concat(n)))}),(0,n.jsxs)(l.Fragment,{children:[o.map(e=>{let{name:t,style:r}=e;return(0,n.jsx)("style",{"data-emotion":"".concat(s.cache.key,"-global ").concat(t),dangerouslySetInnerHTML:{__html:r}},t)}),t&&(0,n.jsx)("style",{"data-emotion":r,dangerouslySetInnerHTML:{__html:t}})]})}),(0,n.jsx)(r,{value:s.cache,children:o})}var u=r(1561),d=r.n(u),h=r(8157);let p=(0,h.Z)({palette:{mode:"light",whiteBtn:{main:"#ffffff"}},typography:{fontFamily:d().style.fontFamily},components:{MuiAlert:{styleOverrides:{root:e=>{let{ownerState:t}=e;return{..."info"===t.severity&&{backgroundColor:"#60a5fa"}}}}}}});function ThemeRegistry(e){let{children:t}=e;return(0,n.jsx)(NextAppDirEmotionCacheProvider,{options:{key:"mui"},children:(0,n.jsxs)(o.Z,{theme:p,children:[(0,n.jsx)(s.ZP,{}),t]})})}},8093:function(e,t,r){"use strict";var n=r(4827),l=r(1990);t.Z=()=>{let{searchText:e,datasetInfo:t,selectedCategory:r}=(0,n.ZP)(),o=(0,l.h)(e),s=t.dataset||[];return r.en&&(s=s.filter(e=>e.resources.en.category===r.en)),s=(s=s.filter(e=>{let t=RegExp(o,"ig");return t.test(e.resources.en.title)||t.test(e.resources.zh.title)||t.test(e.resources.en.facilities)||t.test(e.resources.zh.facilities)})).filter((e,t)=>t==s.findIndex(t=>t.resources.en.title==e.resources.en.title))}},4827:function(e,t,r){"use strict";r.d(t,{SU:function(){return o},rL:function(){return useDefaultSetting}});var n=r(2265);let l=(0,n.createContext)(null),o=l.Provider,useDefaultSetting=()=>{let[e,t]=(0,n.useState)(null),[r,l]=(0,n.useState)(!1),[o,s]=(0,n.useState)({}),[i,a]=(0,n.useState)({}),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(!1),[p,x]=(0,n.useState)(!1),[f,m]=(0,n.useState)({}),[g,j]=(0,n.useState)({}),[b,Z]=(0,n.useState)("");return{map:e,setMap:t,mapLoaded:r,setMapLoaded:l,resource:o,setResource:s,datasetInfo:i,setDatasetInfo:a,searchPanelLoaded:c,setSearchPanelLoaded:u,isSearchPanelOpen:d,setIsSearchPanelOpen:h,searchText:b,setSearchText:Z,selectedCategory:g,setSelectedCategory:j,selectedFacility:f,setSelectedFacility:m,openFpanel:p,setOpenFpanel:x}};t.ZP=()=>(0,n.useContext)(l)},1748:function(e,t,r){"use strict";r.d(t,{RX:function(){return getResource},ag:function(){return n},k1:function(){return l}});let n=[{locale:"zh",displayName:"中文"},{locale:"en",displayName:"English"}],l=n.map(e=>e.locale),o=n[0].locale,s=n.reduce((e,t)=>({...e,[t.locale]:()=>r(3970)("./".concat(t.locale,".json")).then(e=>e.default)}),{}),getResource=async e=>{var t,r;return null!==(r=null===(t=s[e])||void 0===t?void 0:t.call(s))&&void 0!==r?r:s[o]()}},1990:function(e,t,r){"use strict";function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}r.d(t,{h:function(){return escapeRegExp}}),t.Z=(e,t)=>{let r;if(!(e=escapeRegExp(e)))return t;let n=[],l=0,o=RegExp(e,"idg");for(;null!==(r=o.exec(t));){let[e]=r,[s,i]=r.indices[0];l!=s&&n.push(t.substring(l,s)),n.push("<b style='color:red'>".concat(e,"</b>")),l=o.lastIndex}l!=t.lentth&&n.push(t.substring(l));let s=n.join("");return s}},184:function(e,t,r){"use strict";r.d(t,{Z:function(){return isMobile}});var isServer=()=>!1,isMobile=()=>!isServer()&&window.innerWidth<600}},function(e){e.O(0,[402,212,343,971,472,744],function(){return e(e.s=4844)}),_N_E=e.O()}]);